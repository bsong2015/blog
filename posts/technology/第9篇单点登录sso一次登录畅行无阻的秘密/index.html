<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>万年水的博客</title><meta name=keywords content><meta name=description content="第9篇：单点登录（SSO）：一次登录，畅行无阻的秘密
在企业日常工作中，员工可能需要访问数十个甚至上百个不同的应用系统，从内部管理系统、CRM、ERP到各种SaaS服务（如Office 365、Salesforce等）。如果每个应用都需要单独登录，用户将不得不记住大量账号密码，并频繁地重复登录操作，这不仅带来了巨大的“密码疲劳”，严重影响工作效率，也增加了密码被盗用或滥用的风险。
正是为了解决这一痛点，单点登录（Single Sign-On，简称SSO） 技术应运而生。它承诺为用户提供“一次登录，畅行无阻”的丝滑体验。
1. 什么是单点登录（SSO）？
单点登录（SSO）是一种身份认证机制，它允许用户在一次成功的认证后，无需再次输入凭证即可访问多个相互信任的应用系统。 简而言之，用户只需登录一次，就可以在授权范围内无缝切换并使用所有关联的应用。
SSO的核心在于建立一个信任关系：用户在某个中央身份提供者（Identity Provider, IdP）处完成认证后，IdP会向用户颁发一个安全令牌（Security Token）。当用户尝试访问其他服务提供者（Service Provider, SP）时，SP会信任这个由IdP颁发的令牌，从而允许用户直接访问，而无需重新认证。
2. SSO的原理与核心角色
理解SSO的工作原理，需要明确几个核心角色：

用户（User）： 尝试访问各种应用的用户。
身份提供者（Identity Provider, IdP）： 负责集中管理用户身份、执行用户认证并颁发认证凭证（通常是安全令牌）的系统。它是SSO的核心，负责“你是谁？”的验证。常见的IdP包括企业内部的Active Directory联邦服务（AD FS）、Okta、Auth0、Ping Identity等。
服务提供者（Service Provider, SP）： 提供具体应用服务的系统。它们依赖于IdP进行用户身份验证，并根据IdP返回的认证信息来授权用户访问。SP负责“你能做什么？”的授权。

SSO的基本流程（概览）：

用户尝试访问受SSO保护的某个应用（SP）。
SP检测到用户未登录，将其重定向到IdP进行认证。
用户在IdP处输入凭证（用户名/密码，可能还有MFA）完成认证。
IdP认证成功后，生成一个包含用户身份信息的安全令牌，并将其发送回用户浏览器。
用户浏览器带着这个令牌再次重定向回原始的SP。
SP接收并验证令牌的有效性（信任来自IdP的签名），确认用户身份。
SP允许用户访问应用。

关键点： 在整个过程中，用户凭证（密码）只提交给IdP一次，SP只接收和验证由IdP签名的令牌，从而实现了无密码输入的多应用访问。
3. SSO的价值：安全、效率与体验的多赢
SSO不仅仅是技术，更是为企业带来多方面价值的战略性工具：
3.1 增强安全性

减少密码疲劳和弱密码： 用户只需记住一个强密码（IdP的密码），从而减少了在多个系统使用弱密码或重复密码的倾向。
集中式认证与MFA强制： 所有的认证都集中在IdP进行，IdP可以统一强制执行强密码策略和多因素认证（MFA），确保所有应用的登录都受到最高级别的保护。
快速账户禁用： 当员工离职时，只需在IdP中禁用其账户，即可立即切断其对所有关联应用的访问，防止权限滥用和数据泄露。
审计与合规性： 所有的登录活动都集中记录在IdP，便于进行审计和满足合规性要求。

3.2 提升用户体验

简化登录流程： 用户只需一次登录，即可无缝访问多个应用，极大地提升了工作效率和用户满意度。
降低记忆负担： 用户无需记住多个用户名和密码。
减少账户锁定： 忘记密码和账户锁定事件减少，提高了用户的自主性。

3.3 降低管理成本

减少IT支持： 大幅减少了IT部门处理密码重置和账户锁定请求的工作量。
简化应用集成： 新应用接入SSO体系后，无需单独管理用户认证逻辑，降低了开发和维护成本。
提高生产力： 员工将更多时间投入到核心业务中，而非繁琐的登录操作。

4. SSO的常见实现方式
SSO的实现方式多种多样，从简单的基于Cookie到复杂的联邦身份协议，各有其适用场景。"><meta name=author content><link rel=canonical href=https://bsong2015.github.io/blog/posts/technology/%E7%AC%AC9%E7%AF%87%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95sso%E4%B8%80%E6%AC%A1%E7%99%BB%E5%BD%95%E7%95%85%E8%A1%8C%E6%97%A0%E9%98%BB%E7%9A%84%E7%A7%98%E5%AF%86/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://bsong2015.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://bsong2015.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://bsong2015.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://bsong2015.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://bsong2015.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://bsong2015.github.io/blog/posts/technology/%E7%AC%AC9%E7%AF%87%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95sso%E4%B8%80%E6%AC%A1%E7%99%BB%E5%BD%95%E7%95%85%E8%A1%8C%E6%97%A0%E9%98%BB%E7%9A%84%E7%A7%98%E5%AF%86/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://bsong2015.github.io/blog/posts/technology/%E7%AC%AC9%E7%AF%87%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95sso%E4%B8%80%E6%AC%A1%E7%99%BB%E5%BD%95%E7%95%85%E8%A1%8C%E6%97%A0%E9%98%BB%E7%9A%84%E7%A7%98%E5%AF%86/"><meta property="og:site_name" content="万年水的博客"><meta property="og:title" content="万年水的博客"><meta property="og:description" content="第9篇：单点登录（SSO）：一次登录，畅行无阻的秘密 在企业日常工作中，员工可能需要访问数十个甚至上百个不同的应用系统，从内部管理系统、CRM、ERP到各种SaaS服务（如Office 365、Salesforce等）。如果每个应用都需要单独登录，用户将不得不记住大量账号密码，并频繁地重复登录操作，这不仅带来了巨大的“密码疲劳”，严重影响工作效率，也增加了密码被盗用或滥用的风险。
正是为了解决这一痛点，单点登录（Single Sign-On，简称SSO） 技术应运而生。它承诺为用户提供“一次登录，畅行无阻”的丝滑体验。
1. 什么是单点登录（SSO）？ 单点登录（SSO）是一种身份认证机制，它允许用户在一次成功的认证后，无需再次输入凭证即可访问多个相互信任的应用系统。 简而言之，用户只需登录一次，就可以在授权范围内无缝切换并使用所有关联的应用。
SSO的核心在于建立一个信任关系：用户在某个中央身份提供者（Identity Provider, IdP）处完成认证后，IdP会向用户颁发一个安全令牌（Security Token）。当用户尝试访问其他服务提供者（Service Provider, SP）时，SP会信任这个由IdP颁发的令牌，从而允许用户直接访问，而无需重新认证。
2. SSO的原理与核心角色 理解SSO的工作原理，需要明确几个核心角色：
用户（User）： 尝试访问各种应用的用户。 身份提供者（Identity Provider, IdP）： 负责集中管理用户身份、执行用户认证并颁发认证凭证（通常是安全令牌）的系统。它是SSO的核心，负责“你是谁？”的验证。常见的IdP包括企业内部的Active Directory联邦服务（AD FS）、Okta、Auth0、Ping Identity等。 服务提供者（Service Provider, SP）： 提供具体应用服务的系统。它们依赖于IdP进行用户身份验证，并根据IdP返回的认证信息来授权用户访问。SP负责“你能做什么？”的授权。 SSO的基本流程（概览）：
用户尝试访问受SSO保护的某个应用（SP）。 SP检测到用户未登录，将其重定向到IdP进行认证。 用户在IdP处输入凭证（用户名/密码，可能还有MFA）完成认证。 IdP认证成功后，生成一个包含用户身份信息的安全令牌，并将其发送回用户浏览器。 用户浏览器带着这个令牌再次重定向回原始的SP。 SP接收并验证令牌的有效性（信任来自IdP的签名），确认用户身份。 SP允许用户访问应用。 关键点： 在整个过程中，用户凭证（密码）只提交给IdP一次，SP只接收和验证由IdP签名的令牌，从而实现了无密码输入的多应用访问。
3. SSO的价值：安全、效率与体验的多赢 SSO不仅仅是技术，更是为企业带来多方面价值的战略性工具：
3.1 增强安全性 减少密码疲劳和弱密码： 用户只需记住一个强密码（IdP的密码），从而减少了在多个系统使用弱密码或重复密码的倾向。 集中式认证与MFA强制： 所有的认证都集中在IdP进行，IdP可以统一强制执行强密码策略和多因素认证（MFA），确保所有应用的登录都受到最高级别的保护。 快速账户禁用： 当员工离职时，只需在IdP中禁用其账户，即可立即切断其对所有关联应用的访问，防止权限滥用和数据泄露。 审计与合规性： 所有的登录活动都集中记录在IdP，便于进行审计和满足合规性要求。 3.2 提升用户体验 简化登录流程： 用户只需一次登录，即可无缝访问多个应用，极大地提升了工作效率和用户满意度。 降低记忆负担： 用户无需记住多个用户名和密码。 减少账户锁定： 忘记密码和账户锁定事件减少，提高了用户的自主性。 3.3 降低管理成本 减少IT支持： 大幅减少了IT部门处理密码重置和账户锁定请求的工作量。 简化应用集成： 新应用接入SSO体系后，无需单独管理用户认证逻辑，降低了开发和维护成本。 提高生产力： 员工将更多时间投入到核心业务中，而非繁琐的登录操作。 4. SSO的常见实现方式 SSO的实现方式多种多样，从简单的基于Cookie到复杂的联邦身份协议，各有其适用场景。"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="第9篇：单点登录（SSO）：一次登录，畅行无阻的秘密
在企业日常工作中，员工可能需要访问数十个甚至上百个不同的应用系统，从内部管理系统、CRM、ERP到各种SaaS服务（如Office 365、Salesforce等）。如果每个应用都需要单独登录，用户将不得不记住大量账号密码，并频繁地重复登录操作，这不仅带来了巨大的“密码疲劳”，严重影响工作效率，也增加了密码被盗用或滥用的风险。
正是为了解决这一痛点，单点登录（Single Sign-On，简称SSO） 技术应运而生。它承诺为用户提供“一次登录，畅行无阻”的丝滑体验。
1. 什么是单点登录（SSO）？
单点登录（SSO）是一种身份认证机制，它允许用户在一次成功的认证后，无需再次输入凭证即可访问多个相互信任的应用系统。 简而言之，用户只需登录一次，就可以在授权范围内无缝切换并使用所有关联的应用。
SSO的核心在于建立一个信任关系：用户在某个中央身份提供者（Identity Provider, IdP）处完成认证后，IdP会向用户颁发一个安全令牌（Security Token）。当用户尝试访问其他服务提供者（Service Provider, SP）时，SP会信任这个由IdP颁发的令牌，从而允许用户直接访问，而无需重新认证。
2. SSO的原理与核心角色
理解SSO的工作原理，需要明确几个核心角色：

用户（User）： 尝试访问各种应用的用户。
身份提供者（Identity Provider, IdP）： 负责集中管理用户身份、执行用户认证并颁发认证凭证（通常是安全令牌）的系统。它是SSO的核心，负责“你是谁？”的验证。常见的IdP包括企业内部的Active Directory联邦服务（AD FS）、Okta、Auth0、Ping Identity等。
服务提供者（Service Provider, SP）： 提供具体应用服务的系统。它们依赖于IdP进行用户身份验证，并根据IdP返回的认证信息来授权用户访问。SP负责“你能做什么？”的授权。

SSO的基本流程（概览）：

用户尝试访问受SSO保护的某个应用（SP）。
SP检测到用户未登录，将其重定向到IdP进行认证。
用户在IdP处输入凭证（用户名/密码，可能还有MFA）完成认证。
IdP认证成功后，生成一个包含用户身份信息的安全令牌，并将其发送回用户浏览器。
用户浏览器带着这个令牌再次重定向回原始的SP。
SP接收并验证令牌的有效性（信任来自IdP的签名），确认用户身份。
SP允许用户访问应用。

关键点： 在整个过程中，用户凭证（密码）只提交给IdP一次，SP只接收和验证由IdP签名的令牌，从而实现了无密码输入的多应用访问。
3. SSO的价值：安全、效率与体验的多赢
SSO不仅仅是技术，更是为企业带来多方面价值的战略性工具：
3.1 增强安全性

减少密码疲劳和弱密码： 用户只需记住一个强密码（IdP的密码），从而减少了在多个系统使用弱密码或重复密码的倾向。
集中式认证与MFA强制： 所有的认证都集中在IdP进行，IdP可以统一强制执行强密码策略和多因素认证（MFA），确保所有应用的登录都受到最高级别的保护。
快速账户禁用： 当员工离职时，只需在IdP中禁用其账户，即可立即切断其对所有关联应用的访问，防止权限滥用和数据泄露。
审计与合规性： 所有的登录活动都集中记录在IdP，便于进行审计和满足合规性要求。

3.2 提升用户体验

简化登录流程： 用户只需一次登录，即可无缝访问多个应用，极大地提升了工作效率和用户满意度。
降低记忆负担： 用户无需记住多个用户名和密码。
减少账户锁定： 忘记密码和账户锁定事件减少，提高了用户的自主性。

3.3 降低管理成本

减少IT支持： 大幅减少了IT部门处理密码重置和账户锁定请求的工作量。
简化应用集成： 新应用接入SSO体系后，无需单独管理用户认证逻辑，降低了开发和维护成本。
提高生产力： 员工将更多时间投入到核心业务中，而非繁琐的登录操作。

4. SSO的常见实现方式
SSO的实现方式多种多样，从简单的基于Cookie到复杂的联邦身份协议，各有其适用场景。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://bsong2015.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"技术实践","item":"https://bsong2015.github.io/blog/posts/technology/"},{"@type":"ListItem","position":3,"name":"","item":"https://bsong2015.github.io/blog/posts/technology/%E7%AC%AC9%E7%AF%87%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95sso%E4%B8%80%E6%AC%A1%E7%99%BB%E5%BD%95%E7%95%85%E8%A1%8C%E6%97%A0%E9%98%BB%E7%9A%84%E7%A7%98%E5%AF%86/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"","name":"","description":"第9篇：单点登录（SSO）：一次登录，畅行无阻的秘密 在企业日常工作中，员工可能需要访问数十个甚至上百个不同的应用系统，从内部管理系统、CRM、ERP到各种SaaS服务（如Office 365、Salesforce等）。如果每个应用都需要单独登录，用户将不得不记住大量账号密码，并频繁地重复登录操作，这不仅带来了巨大的“密码疲劳”，严重影响工作效率，也增加了密码被盗用或滥用的风险。\n正是为了解决这一痛点，单点登录（Single Sign-On，简称SSO） 技术应运而生。它承诺为用户提供“一次登录，畅行无阻”的丝滑体验。\n1. 什么是单点登录（SSO）？ 单点登录（SSO）是一种身份认证机制，它允许用户在一次成功的认证后，无需再次输入凭证即可访问多个相互信任的应用系统。 简而言之，用户只需登录一次，就可以在授权范围内无缝切换并使用所有关联的应用。\nSSO的核心在于建立一个信任关系：用户在某个中央身份提供者（Identity Provider, IdP）处完成认证后，IdP会向用户颁发一个安全令牌（Security Token）。当用户尝试访问其他服务提供者（Service Provider, SP）时，SP会信任这个由IdP颁发的令牌，从而允许用户直接访问，而无需重新认证。\n2. SSO的原理与核心角色 理解SSO的工作原理，需要明确几个核心角色：\n用户（User）： 尝试访问各种应用的用户。 身份提供者（Identity Provider, IdP）： 负责集中管理用户身份、执行用户认证并颁发认证凭证（通常是安全令牌）的系统。它是SSO的核心，负责“你是谁？”的验证。常见的IdP包括企业内部的Active Directory联邦服务（AD FS）、Okta、Auth0、Ping Identity等。 服务提供者（Service Provider, SP）： 提供具体应用服务的系统。它们依赖于IdP进行用户身份验证，并根据IdP返回的认证信息来授权用户访问。SP负责“你能做什么？”的授权。 SSO的基本流程（概览）：\n用户尝试访问受SSO保护的某个应用（SP）。 SP检测到用户未登录，将其重定向到IdP进行认证。 用户在IdP处输入凭证（用户名/密码，可能还有MFA）完成认证。 IdP认证成功后，生成一个包含用户身份信息的安全令牌，并将其发送回用户浏览器。 用户浏览器带着这个令牌再次重定向回原始的SP。 SP接收并验证令牌的有效性（信任来自IdP的签名），确认用户身份。 SP允许用户访问应用。 关键点： 在整个过程中，用户凭证（密码）只提交给IdP一次，SP只接收和验证由IdP签名的令牌，从而实现了无密码输入的多应用访问。\n3. SSO的价值：安全、效率与体验的多赢 SSO不仅仅是技术，更是为企业带来多方面价值的战略性工具：\n3.1 增强安全性 减少密码疲劳和弱密码： 用户只需记住一个强密码（IdP的密码），从而减少了在多个系统使用弱密码或重复密码的倾向。 集中式认证与MFA强制： 所有的认证都集中在IdP进行，IdP可以统一强制执行强密码策略和多因素认证（MFA），确保所有应用的登录都受到最高级别的保护。 快速账户禁用： 当员工离职时，只需在IdP中禁用其账户，即可立即切断其对所有关联应用的访问，防止权限滥用和数据泄露。 审计与合规性： 所有的登录活动都集中记录在IdP，便于进行审计和满足合规性要求。 3.2 提升用户体验 简化登录流程： 用户只需一次登录，即可无缝访问多个应用，极大地提升了工作效率和用户满意度。 降低记忆负担： 用户无需记住多个用户名和密码。 减少账户锁定： 忘记密码和账户锁定事件减少，提高了用户的自主性。 3.3 降低管理成本 减少IT支持： 大幅减少了IT部门处理密码重置和账户锁定请求的工作量。 简化应用集成： 新应用接入SSO体系后，无需单独管理用户认证逻辑，降低了开发和维护成本。 提高生产力： 员工将更多时间投入到核心业务中，而非繁琐的登录操作。 4. SSO的常见实现方式 SSO的实现方式多种多样，从简单的基于Cookie到复杂的联邦身份协议，各有其适用场景。\n","keywords":[],"articleBody":"第9篇：单点登录（SSO）：一次登录，畅行无阻的秘密 在企业日常工作中，员工可能需要访问数十个甚至上百个不同的应用系统，从内部管理系统、CRM、ERP到各种SaaS服务（如Office 365、Salesforce等）。如果每个应用都需要单独登录，用户将不得不记住大量账号密码，并频繁地重复登录操作，这不仅带来了巨大的“密码疲劳”，严重影响工作效率，也增加了密码被盗用或滥用的风险。\n正是为了解决这一痛点，单点登录（Single Sign-On，简称SSO） 技术应运而生。它承诺为用户提供“一次登录，畅行无阻”的丝滑体验。\n1. 什么是单点登录（SSO）？ 单点登录（SSO）是一种身份认证机制，它允许用户在一次成功的认证后，无需再次输入凭证即可访问多个相互信任的应用系统。 简而言之，用户只需登录一次，就可以在授权范围内无缝切换并使用所有关联的应用。\nSSO的核心在于建立一个信任关系：用户在某个中央身份提供者（Identity Provider, IdP）处完成认证后，IdP会向用户颁发一个安全令牌（Security Token）。当用户尝试访问其他服务提供者（Service Provider, SP）时，SP会信任这个由IdP颁发的令牌，从而允许用户直接访问，而无需重新认证。\n2. SSO的原理与核心角色 理解SSO的工作原理，需要明确几个核心角色：\n用户（User）： 尝试访问各种应用的用户。 身份提供者（Identity Provider, IdP）： 负责集中管理用户身份、执行用户认证并颁发认证凭证（通常是安全令牌）的系统。它是SSO的核心，负责“你是谁？”的验证。常见的IdP包括企业内部的Active Directory联邦服务（AD FS）、Okta、Auth0、Ping Identity等。 服务提供者（Service Provider, SP）： 提供具体应用服务的系统。它们依赖于IdP进行用户身份验证，并根据IdP返回的认证信息来授权用户访问。SP负责“你能做什么？”的授权。 SSO的基本流程（概览）：\n用户尝试访问受SSO保护的某个应用（SP）。 SP检测到用户未登录，将其重定向到IdP进行认证。 用户在IdP处输入凭证（用户名/密码，可能还有MFA）完成认证。 IdP认证成功后，生成一个包含用户身份信息的安全令牌，并将其发送回用户浏览器。 用户浏览器带着这个令牌再次重定向回原始的SP。 SP接收并验证令牌的有效性（信任来自IdP的签名），确认用户身份。 SP允许用户访问应用。 关键点： 在整个过程中，用户凭证（密码）只提交给IdP一次，SP只接收和验证由IdP签名的令牌，从而实现了无密码输入的多应用访问。\n3. SSO的价值：安全、效率与体验的多赢 SSO不仅仅是技术，更是为企业带来多方面价值的战略性工具：\n3.1 增强安全性 减少密码疲劳和弱密码： 用户只需记住一个强密码（IdP的密码），从而减少了在多个系统使用弱密码或重复密码的倾向。 集中式认证与MFA强制： 所有的认证都集中在IdP进行，IdP可以统一强制执行强密码策略和多因素认证（MFA），确保所有应用的登录都受到最高级别的保护。 快速账户禁用： 当员工离职时，只需在IdP中禁用其账户，即可立即切断其对所有关联应用的访问，防止权限滥用和数据泄露。 审计与合规性： 所有的登录活动都集中记录在IdP，便于进行审计和满足合规性要求。 3.2 提升用户体验 简化登录流程： 用户只需一次登录，即可无缝访问多个应用，极大地提升了工作效率和用户满意度。 降低记忆负担： 用户无需记住多个用户名和密码。 减少账户锁定： 忘记密码和账户锁定事件减少，提高了用户的自主性。 3.3 降低管理成本 减少IT支持： 大幅减少了IT部门处理密码重置和账户锁定请求的工作量。 简化应用集成： 新应用接入SSO体系后，无需单独管理用户认证逻辑，降低了开发和维护成本。 提高生产力： 员工将更多时间投入到核心业务中，而非繁琐的登录操作。 4. SSO的常见实现方式 SSO的实现方式多种多样，从简单的基于Cookie到复杂的联邦身份协议，各有其适用场景。\n4.1 基于Cookie的SSO（传统型，适用于同域名或子域名） 原理： 用户首次登录后，认证服务器（IdP或主应用）在用户浏览器中设置一个带有认证信息（如会话ID）的主域Cookie。当用户访问同一主域名下的其他子应用时，浏览器会自动携带此Cookie。子应用共享主域Cookie，通过验证其中的认证信息来识别用户，从而实现SSO。 适用场景： 适用于同一顶级域名下的多个子系统（如portal.example.com, crm.example.com, hr.example.com）。 局限性： 无法跨越不同的顶级域名（例如，example.com和another.com）实现SSO，因为Cookie有域名限制。 4.2 基于令牌（Token）的SSO（现代联邦身份主流） 这种方式通常依赖于特定的安全协议，通过颁发和交换加密的令牌来实现跨域甚至跨组织的SSO。\n4.2.1 SAML (Security Assertion Markup Language) 原理： SAML是一种基于XML的开放标准，用于在不同安全域之间交换认证和授权数据。它定义了身份提供者（IdP）和服务提供者（SP）之间的消息格式和交互流程。当用户尝试访问SP时，SP会将用户重定向到IdP进行认证。IdP认证成功后，会生成一个包含用户身份和属性的SAML断言（Assertion），并将其签名后发送回SP。SP验证断言的签名和内容后，允许用户登录。 优势： 广泛应用于企业级应用和云服务（如Salesforce、Office 365等），支持浏览器重定向和HTTP POST绑定等多种交互模式，安全性高。 适用场景： 企业内部系统与外部SaaS应用之间的SSO，企业间协作的身份联邦。 4.2.2 OAuth 2.0 (Open Authorization) 与 OpenID Connect (OIDC) OAuth 2.0： 是一种授权框架，允许用户授权第三方应用访问其在某个服务上的受保护资源，而无需共享其凭证。它主要关注“授权”，而非“认证”。 OpenID Connect (OIDC)： 是一个构建在OAuth 2.0协议之上的简单身份层。它在OAuth 2.0的授权流程中加入了身份认证的能力，使得第三方应用能够验证用户的身份，并获取用户的基本资料。 原理： IdP（称为OpenID Provider, OP）认证用户后，颁发ID Token（包含用户信息）和Access Token（用于访问用户授权的资源）。客户端应用（SP）接收ID Token来验证用户身份，并使用Access Token来访问受保护的API。 优势： 基于JSON/REST，更加轻量级和现代化，易于在Web、移动应用和API服务中集成。是当前互联网和微服务架构下实现SSO和授权的主流选择。 适用场景： 消费级互联网应用、移动应用、API安全、微服务架构中的身份认证和授权。 4.3 Kerberos（企业内部域环境） 原理： Kerberos是一种网络认证协议，使用强大的加密技术来为客户端/服务器应用提供安全的认证。它依赖于一个信任的第三方——密钥分发中心（Key Distribution Center, KDC）来验证用户身份并颁发“票据”（Tickets）。用户获得票据后，可以使用它访问域内的各种服务，无需重复认证。 优势： 极高安全性，广泛应用于Microsoft Active Directory等企业内部域环境。 局限性： 复杂性高，主要用于企业内部局域网环境，不适用于跨组织或互联网环境。 总结 单点登录（SSO）是现代身份与访问管理（IAM）不可或缺的核心功能。它通过统一的身份认证点，极大地提升了用户体验，降低了IT管理成本，并增强了整体安全态势。无论是传统的基于Cookie的方案，还是现代的基于令牌的联邦身份协议（如SAML和OpenID Connect），SSO都旨在实现“一次登录，畅行无阻”的目标。\n选择哪种SSO方案取决于具体的业务需求、安全要求和技术栈。理解这些不同协议的原理和适用场景，是构建健壮IAM系统的关键。今天只是简单介绍了这些协议，协议的具体内容介绍将留在后面的章节中。\n欢迎关注+点赞+推荐+转发\n","wordCount":"149","inLanguage":"zh","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://bsong2015.github.io/blog/posts/technology/%E7%AC%AC9%E7%AF%87%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95sso%E4%B8%80%E6%AC%A1%E7%99%BB%E5%BD%95%E7%95%85%E8%A1%8C%E6%97%A0%E9%98%BB%E7%9A%84%E7%A7%98%E5%AF%86/"},"publisher":{"@type":"Organization","name":"万年水的博客","logo":{"@type":"ImageObject","url":"https://bsong2015.github.io/blog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bsong2015.github.io/blog/ accesskey=h title="万年水的博客 (Alt + H)">万年水的博客</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bsong2015.github.io/blog/posts/artificial-intelligence/ title=人工智能><span>人工智能</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/reading/ title=阅读><span>阅读</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/thinking-models/ title=思维模型><span>思维模型</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/thought-experiments/ title=思想实验><span>思想实验</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/personal-growth/ title=个人成长><span>个人成长</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/technology/ title=技术><span>技术</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/current-affairs/ title=时事><span>时事</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/others/ title=其它><span>其它</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent"></h1><div class=post-meta></div></header><div class=post-content><h2 id=第9篇单点登录sso一次登录畅行无阻的秘密>第9篇：单点登录（SSO）：一次登录，畅行无阻的秘密<a hidden class=anchor aria-hidden=true href=#第9篇单点登录sso一次登录畅行无阻的秘密>#</a></h2><p>在企业日常工作中，员工可能需要访问数十个甚至上百个不同的应用系统，从内部管理系统、CRM、ERP到各种SaaS服务（如Office 365、Salesforce等）。如果每个应用都需要单独登录，用户将不得不记住大量账号密码，并频繁地重复登录操作，这不仅带来了巨大的“密码疲劳”，严重影响工作效率，也增加了密码被盗用或滥用的风险。</p><p>正是为了解决这一痛点，<strong>单点登录（Single Sign-On，简称SSO）</strong> 技术应运而生。它承诺为用户提供“一次登录，畅行无阻”的丝滑体验。</p><h3 id=1-什么是单点登录sso>1. 什么是单点登录（SSO）？<a hidden class=anchor aria-hidden=true href=#1-什么是单点登录sso>#</a></h3><p><strong>单点登录（SSO）是一种身份认证机制，它允许用户在一次成功的认证后，无需再次输入凭证即可访问多个相互信任的应用系统。</strong> 简而言之，用户只需登录一次，就可以在授权范围内无缝切换并使用所有关联的应用。</p><p>SSO的核心在于建立一个<strong>信任关系</strong>：用户在某个中央身份提供者（Identity Provider, IdP）处完成认证后，IdP会向用户颁发一个<strong>安全令牌（Security Token）</strong>。当用户尝试访问其他服务提供者（Service Provider, SP）时，SP会信任这个由IdP颁发的令牌，从而允许用户直接访问，而无需重新认证。</p><h3 id=2-sso的原理与核心角色>2. SSO的原理与核心角色<a hidden class=anchor aria-hidden=true href=#2-sso的原理与核心角色>#</a></h3><p>理解SSO的工作原理，需要明确几个核心角色：</p><ul><li><strong>用户（User）：</strong> 尝试访问各种应用的用户。</li><li><strong>身份提供者（Identity Provider, IdP）：</strong> 负责集中管理用户身份、执行用户认证并颁发认证凭证（通常是安全令牌）的系统。它是SSO的核心，负责“你是谁？”的验证。常见的IdP包括企业内部的Active Directory联邦服务（AD FS）、Okta、Auth0、Ping Identity等。</li><li><strong>服务提供者（Service Provider, SP）：</strong> 提供具体应用服务的系统。它们依赖于IdP进行用户身份验证，并根据IdP返回的认证信息来授权用户访问。SP负责“你能做什么？”的授权。</li></ul><p><strong>SSO的基本流程（概览）：</strong></p><ol><li>用户尝试访问受SSO保护的某个应用（SP）。</li><li>SP检测到用户未登录，将其重定向到IdP进行认证。</li><li>用户在IdP处输入凭证（用户名/密码，可能还有MFA）完成认证。</li><li>IdP认证成功后，生成一个包含用户身份信息的安全令牌，并将其发送回用户浏览器。</li><li>用户浏览器带着这个令牌再次重定向回原始的SP。</li><li>SP接收并验证令牌的有效性（信任来自IdP的签名），确认用户身份。</li><li>SP允许用户访问应用。</li></ol><p><strong>关键点：</strong> 在整个过程中，用户凭证（密码）只提交给IdP一次，SP只接收和验证由IdP签名的令牌，从而实现了无密码输入的多应用访问。</p><h3 id=3-sso的价值安全效率与体验的多赢>3. SSO的价值：安全、效率与体验的多赢<a hidden class=anchor aria-hidden=true href=#3-sso的价值安全效率与体验的多赢>#</a></h3><p>SSO不仅仅是技术，更是为企业带来多方面价值的战略性工具：</p><h4 id=31-增强安全性>3.1 增强安全性<a hidden class=anchor aria-hidden=true href=#31-增强安全性>#</a></h4><ul><li><strong>减少密码疲劳和弱密码：</strong> 用户只需记住一个强密码（IdP的密码），从而减少了在多个系统使用弱密码或重复密码的倾向。</li><li><strong>集中式认证与MFA强制：</strong> 所有的认证都集中在IdP进行，IdP可以统一强制执行强密码策略和多因素认证（MFA），确保所有应用的登录都受到最高级别的保护。</li><li><strong>快速账户禁用：</strong> 当员工离职时，只需在IdP中禁用其账户，即可立即切断其对所有关联应用的访问，防止权限滥用和数据泄露。</li><li><strong>审计与合规性：</strong> 所有的登录活动都集中记录在IdP，便于进行审计和满足合规性要求。</li></ul><h4 id=32-提升用户体验>3.2 提升用户体验<a hidden class=anchor aria-hidden=true href=#32-提升用户体验>#</a></h4><ul><li><strong>简化登录流程：</strong> 用户只需一次登录，即可无缝访问多个应用，极大地提升了工作效率和用户满意度。</li><li><strong>降低记忆负担：</strong> 用户无需记住多个用户名和密码。</li><li><strong>减少账户锁定：</strong> 忘记密码和账户锁定事件减少，提高了用户的自主性。</li></ul><h4 id=33-降低管理成本>3.3 降低管理成本<a hidden class=anchor aria-hidden=true href=#33-降低管理成本>#</a></h4><ul><li><strong>减少IT支持：</strong> 大幅减少了IT部门处理密码重置和账户锁定请求的工作量。</li><li><strong>简化应用集成：</strong> 新应用接入SSO体系后，无需单独管理用户认证逻辑，降低了开发和维护成本。</li><li><strong>提高生产力：</strong> 员工将更多时间投入到核心业务中，而非繁琐的登录操作。</li></ul><h3 id=4-sso的常见实现方式>4. SSO的常见实现方式<a hidden class=anchor aria-hidden=true href=#4-sso的常见实现方式>#</a></h3><p>SSO的实现方式多种多样，从简单的基于Cookie到复杂的联邦身份协议，各有其适用场景。</p><h4 id=41-基于cookie的sso传统型适用于同域名或子域名>4.1 基于Cookie的SSO（传统型，适用于同域名或子域名）<a hidden class=anchor aria-hidden=true href=#41-基于cookie的sso传统型适用于同域名或子域名>#</a></h4><ul><li><strong>原理：</strong> 用户首次登录后，认证服务器（IdP或主应用）在用户浏览器中设置一个带有认证信息（如会话ID）的<strong>主域Cookie</strong>。当用户访问同一主域名下的其他子应用时，浏览器会自动携带此Cookie。子应用共享主域Cookie，通过验证其中的认证信息来识别用户，从而实现SSO。</li><li><strong>适用场景：</strong> 适用于同一顶级域名下的多个子系统（如portal.example.com, crm.example.com, hr.example.com）。</li><li><strong>局限性：</strong> 无法跨越不同的顶级域名（例如，example.com和another.com）实现SSO，因为Cookie有域名限制。</li></ul><h4 id=42-基于令牌token的sso现代联邦身份主流>4.2 基于令牌（Token）的SSO（现代联邦身份主流）<a hidden class=anchor aria-hidden=true href=#42-基于令牌token的sso现代联邦身份主流>#</a></h4><p>这种方式通常依赖于特定的安全协议，通过颁发和交换加密的令牌来实现跨域甚至跨组织的SSO。</p><h5 id=421-saml-security-assertion-markup-language>4.2.1 SAML (Security Assertion Markup Language)<a hidden class=anchor aria-hidden=true href=#421-saml-security-assertion-markup-language>#</a></h5><ul><li><strong>原理：</strong> SAML是一种基于XML的开放标准，用于在不同安全域之间交换认证和授权数据。它定义了身份提供者（IdP）和服务提供者（SP）之间的消息格式和交互流程。当用户尝试访问SP时，SP会将用户重定向到IdP进行认证。IdP认证成功后，会生成一个包含用户身份和属性的<strong>SAML断言（Assertion）</strong>，并将其签名后发送回SP。SP验证断言的签名和内容后，允许用户登录。</li><li><strong>优势：</strong> 广泛应用于企业级应用和云服务（如Salesforce、Office 365等），支持浏览器重定向和HTTP POST绑定等多种交互模式，安全性高。</li><li><strong>适用场景：</strong> 企业内部系统与外部SaaS应用之间的SSO，企业间协作的身份联邦。</li></ul><h5 id=422-oauth-20-open-authorization-与-openid-connect-oidc>4.2.2 OAuth 2.0 (Open Authorization) 与 OpenID Connect (OIDC)<a hidden class=anchor aria-hidden=true href=#422-oauth-20-open-authorization-与-openid-connect-oidc>#</a></h5><ul><li><strong>OAuth 2.0：</strong> 是一种授权框架，允许用户授权第三方应用访问其在某个服务上的受保护资源，而无需共享其凭证。它主要关注“授权”，而非“认证”。</li><li><strong>OpenID Connect (OIDC)：</strong> 是一个构建在OAuth 2.0协议之上的简单身份层。它在OAuth 2.0的授权流程中加入了身份认证的能力，使得第三方应用能够验证用户的身份，并获取用户的基本资料。</li><li><strong>原理：</strong> IdP（称为OpenID Provider, OP）认证用户后，颁发<strong>ID Token</strong>（包含用户信息）和<strong>Access Token</strong>（用于访问用户授权的资源）。客户端应用（SP）接收ID Token来验证用户身份，并使用Access Token来访问受保护的API。</li><li><strong>优势：</strong> 基于JSON/REST，更加轻量级和现代化，易于在Web、移动应用和API服务中集成。是当前互联网和微服务架构下实现SSO和授权的主流选择。</li><li><strong>适用场景：</strong> 消费级互联网应用、移动应用、API安全、微服务架构中的身份认证和授权。</li></ul><h4 id=43-kerberos企业内部域环境>4.3 Kerberos（企业内部域环境）<a hidden class=anchor aria-hidden=true href=#43-kerberos企业内部域环境>#</a></h4><ul><li><strong>原理：</strong> Kerberos是一种网络认证协议，使用强大的加密技术来为客户端/服务器应用提供安全的认证。它依赖于一个信任的第三方——密钥分发中心（Key Distribution Center, KDC）来验证用户身份并颁发“票据”（Tickets）。用户获得票据后，可以使用它访问域内的各种服务，无需重复认证。</li><li><strong>优势：</strong> 极高安全性，广泛应用于Microsoft Active Directory等企业内部域环境。</li><li><strong>局限性：</strong> 复杂性高，主要用于企业内部局域网环境，不适用于跨组织或互联网环境。</li></ul><h3 id=总结>总结<a hidden class=anchor aria-hidden=true href=#总结>#</a></h3><p>单点登录（SSO）是现代身份与访问管理（IAM）不可或缺的核心功能。它通过统一的身份认证点，极大地提升了用户体验，降低了IT管理成本，并增强了整体安全态势。无论是传统的基于Cookie的方案，还是现代的基于令牌的联邦身份协议（如SAML和OpenID Connect），SSO都旨在实现“一次登录，畅行无阻”的目标。</p><p>选择哪种SSO方案取决于具体的业务需求、安全要求和技术栈。理解这些不同协议的原理和适用场景，是构建健壮IAM系统的关键。今天只是简单介绍了这些协议，协议的具体内容介绍将留在后面的章节中。</p><h3></h3><p><strong>欢迎关注+点赞+推荐+转发</strong></p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://bsong2015.github.io/blog/>万年水的博客</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>