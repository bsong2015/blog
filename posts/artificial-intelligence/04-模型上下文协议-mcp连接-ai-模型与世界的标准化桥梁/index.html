<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>万年水的博客</title><meta name=keywords content><meta name=description content="模型上下文协议 (MCP)：连接 AI 模型与世界的标准化桥梁
引言
随着人工智能技术的飞速发展，大型语言模型（LLMs）的能力日益强大，它们在理解和生成自然语言方面取得了显著的进步。然而，要让这些模型真正服务于现实世界的应用，仅仅依靠其预训练的知识是远远不够的。它们需要能够安全、高效地访问外部数据源、利用各种工具，并根据用户的具体需求进行定制化的交互。在这样的背景下，由 Anthropic 公司发起并开源的模型上下文协议 (Model Context Protocol, MCP) 应运而生。MCP 旨在为 AI 模型与外部世界建立一座标准化的桥梁，正如 USB-C 接口统一了各种电子设备的连接方式一样，MCP 有望革新 AI 模型的集成方式，极大地提升 AI 应用的灵活性、可扩展性和实用性。
MxN 集成挑战与标准化需求
在 MCP 出现之前，将 M 个 AI 模型与 N 个不同的工具或数据源集成，往往需要构建 M x N 个定制化的集成方案。这种“MxN”问题导致了复杂性的爆炸式增长，不仅开发和维护成本高昂，而且难以实现不同 AI 模型和外部资源之间的互操作性。例如，一个企业可能同时使用来自不同供应商的多个 LLM，并且需要让它们能够访问企业内部的数据库、文件系统、以及各种外部 API。如果每种 LLM 都需要针对每种数据源和工具进行单独的适配，其工作量和复杂性可想而知。
为了解决这一瓶颈，行业迫切需要一种标准化的协议，使得每个 AI 模型和每个外部资源只需要遵循一次标准即可实现互联互通。MCP 的目标正是将这种复杂性降低到 M + N 的水平，极大地简化了 AI 集成的过程。语言服务器协议 (Language Server Protocol, LSP) 在代码编辑器和编程语言的集成领域取得了巨大的成功，它通过标准化开发工具与编程语言之间的通信方式，极大地提升了开发效率和用户体验。MCP 正是希望在 AI 集成领域复制 LSP 的成功，通过提供一个通用的接口，让 AI 模型能够以统一的方式与各种外部资源进行交互。
MCP 的工作原理：架构与核心组件
MCP 采用经典的客户端-服务器架构。其中，AI 应用程序（例如一个聊天机器人或一个智能助手）扮演 MCP 客户端（或称为主机）的角色，而提供数据、工具或提示的外部系统则扮演 MCP 服务器的角色。"><meta name=author content><link rel=canonical href=https://bsong2015.github.io/blog/posts/artificial-intelligence/04-%E6%A8%A1%E5%9E%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%8D%8F%E8%AE%AE-mcp%E8%BF%9E%E6%8E%A5-ai-%E6%A8%A1%E5%9E%8B%E4%B8%8E%E4%B8%96%E7%95%8C%E7%9A%84%E6%A0%87%E5%87%86%E5%8C%96%E6%A1%A5%E6%A2%81/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://bsong2015.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://bsong2015.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://bsong2015.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://bsong2015.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://bsong2015.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://bsong2015.github.io/blog/posts/artificial-intelligence/04-%E6%A8%A1%E5%9E%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%8D%8F%E8%AE%AE-mcp%E8%BF%9E%E6%8E%A5-ai-%E6%A8%A1%E5%9E%8B%E4%B8%8E%E4%B8%96%E7%95%8C%E7%9A%84%E6%A0%87%E5%87%86%E5%8C%96%E6%A1%A5%E6%A2%81/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://bsong2015.github.io/blog/posts/artificial-intelligence/04-%E6%A8%A1%E5%9E%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%8D%8F%E8%AE%AE-mcp%E8%BF%9E%E6%8E%A5-ai-%E6%A8%A1%E5%9E%8B%E4%B8%8E%E4%B8%96%E7%95%8C%E7%9A%84%E6%A0%87%E5%87%86%E5%8C%96%E6%A1%A5%E6%A2%81/"><meta property="og:site_name" content="万年水的博客"><meta property="og:title" content="万年水的博客"><meta property="og:description" content="模型上下文协议 (MCP)：连接 AI 模型与世界的标准化桥梁 引言 随着人工智能技术的飞速发展，大型语言模型（LLMs）的能力日益强大，它们在理解和生成自然语言方面取得了显著的进步。然而，要让这些模型真正服务于现实世界的应用，仅仅依靠其预训练的知识是远远不够的。它们需要能够安全、高效地访问外部数据源、利用各种工具，并根据用户的具体需求进行定制化的交互。在这样的背景下，由 Anthropic 公司发起并开源的模型上下文协议 (Model Context Protocol, MCP) 应运而生。MCP 旨在为 AI 模型与外部世界建立一座标准化的桥梁，正如 USB-C 接口统一了各种电子设备的连接方式一样，MCP 有望革新 AI 模型的集成方式，极大地提升 AI 应用的灵活性、可扩展性和实用性。
MxN 集成挑战与标准化需求 在 MCP 出现之前，将 M 个 AI 模型与 N 个不同的工具或数据源集成，往往需要构建 M x N 个定制化的集成方案。这种“MxN”问题导致了复杂性的爆炸式增长，不仅开发和维护成本高昂，而且难以实现不同 AI 模型和外部资源之间的互操作性。例如，一个企业可能同时使用来自不同供应商的多个 LLM，并且需要让它们能够访问企业内部的数据库、文件系统、以及各种外部 API。如果每种 LLM 都需要针对每种数据源和工具进行单独的适配，其工作量和复杂性可想而知。
为了解决这一瓶颈，行业迫切需要一种标准化的协议，使得每个 AI 模型和每个外部资源只需要遵循一次标准即可实现互联互通。MCP 的目标正是将这种复杂性降低到 M + N 的水平，极大地简化了 AI 集成的过程。语言服务器协议 (Language Server Protocol, LSP) 在代码编辑器和编程语言的集成领域取得了巨大的成功，它通过标准化开发工具与编程语言之间的通信方式，极大地提升了开发效率和用户体验。MCP 正是希望在 AI 集成领域复制 LSP 的成功，通过提供一个通用的接口，让 AI 模型能够以统一的方式与各种外部资源进行交互。
MCP 的工作原理：架构与核心组件 MCP 采用经典的客户端-服务器架构。其中，AI 应用程序（例如一个聊天机器人或一个智能助手）扮演 MCP 客户端（或称为主机）的角色，而提供数据、工具或提示的外部系统则扮演 MCP 服务器的角色。"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="模型上下文协议 (MCP)：连接 AI 模型与世界的标准化桥梁
引言
随着人工智能技术的飞速发展，大型语言模型（LLMs）的能力日益强大，它们在理解和生成自然语言方面取得了显著的进步。然而，要让这些模型真正服务于现实世界的应用，仅仅依靠其预训练的知识是远远不够的。它们需要能够安全、高效地访问外部数据源、利用各种工具，并根据用户的具体需求进行定制化的交互。在这样的背景下，由 Anthropic 公司发起并开源的模型上下文协议 (Model Context Protocol, MCP) 应运而生。MCP 旨在为 AI 模型与外部世界建立一座标准化的桥梁，正如 USB-C 接口统一了各种电子设备的连接方式一样，MCP 有望革新 AI 模型的集成方式，极大地提升 AI 应用的灵活性、可扩展性和实用性。
MxN 集成挑战与标准化需求
在 MCP 出现之前，将 M 个 AI 模型与 N 个不同的工具或数据源集成，往往需要构建 M x N 个定制化的集成方案。这种“MxN”问题导致了复杂性的爆炸式增长，不仅开发和维护成本高昂，而且难以实现不同 AI 模型和外部资源之间的互操作性。例如，一个企业可能同时使用来自不同供应商的多个 LLM，并且需要让它们能够访问企业内部的数据库、文件系统、以及各种外部 API。如果每种 LLM 都需要针对每种数据源和工具进行单独的适配，其工作量和复杂性可想而知。
为了解决这一瓶颈，行业迫切需要一种标准化的协议，使得每个 AI 模型和每个外部资源只需要遵循一次标准即可实现互联互通。MCP 的目标正是将这种复杂性降低到 M + N 的水平，极大地简化了 AI 集成的过程。语言服务器协议 (Language Server Protocol, LSP) 在代码编辑器和编程语言的集成领域取得了巨大的成功，它通过标准化开发工具与编程语言之间的通信方式，极大地提升了开发效率和用户体验。MCP 正是希望在 AI 集成领域复制 LSP 的成功，通过提供一个通用的接口，让 AI 模型能够以统一的方式与各种外部资源进行交互。
MCP 的工作原理：架构与核心组件
MCP 采用经典的客户端-服务器架构。其中，AI 应用程序（例如一个聊天机器人或一个智能助手）扮演 MCP 客户端（或称为主机）的角色，而提供数据、工具或提示的外部系统则扮演 MCP 服务器的角色。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://bsong2015.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"人工智能","item":"https://bsong2015.github.io/blog/posts/artificial-intelligence/"},{"@type":"ListItem","position":3,"name":"","item":"https://bsong2015.github.io/blog/posts/artificial-intelligence/04-%E6%A8%A1%E5%9E%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%8D%8F%E8%AE%AE-mcp%E8%BF%9E%E6%8E%A5-ai-%E6%A8%A1%E5%9E%8B%E4%B8%8E%E4%B8%96%E7%95%8C%E7%9A%84%E6%A0%87%E5%87%86%E5%8C%96%E6%A1%A5%E6%A2%81/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"","name":"","description":"模型上下文协议 (MCP)：连接 AI 模型与世界的标准化桥梁 引言 随着人工智能技术的飞速发展，大型语言模型（LLMs）的能力日益强大，它们在理解和生成自然语言方面取得了显著的进步。然而，要让这些模型真正服务于现实世界的应用，仅仅依靠其预训练的知识是远远不够的。它们需要能够安全、高效地访问外部数据源、利用各种工具，并根据用户的具体需求进行定制化的交互。在这样的背景下，由 Anthropic 公司发起并开源的模型上下文协议 (Model Context Protocol, MCP) 应运而生。MCP 旨在为 AI 模型与外部世界建立一座标准化的桥梁，正如 USB-C 接口统一了各种电子设备的连接方式一样，MCP 有望革新 AI 模型的集成方式，极大地提升 AI 应用的灵活性、可扩展性和实用性。\nMxN 集成挑战与标准化需求 在 MCP 出现之前，将 M 个 AI 模型与 N 个不同的工具或数据源集成，往往需要构建 M x N 个定制化的集成方案。这种“MxN”问题导致了复杂性的爆炸式增长，不仅开发和维护成本高昂，而且难以实现不同 AI 模型和外部资源之间的互操作性。例如，一个企业可能同时使用来自不同供应商的多个 LLM，并且需要让它们能够访问企业内部的数据库、文件系统、以及各种外部 API。如果每种 LLM 都需要针对每种数据源和工具进行单独的适配，其工作量和复杂性可想而知。\n为了解决这一瓶颈，行业迫切需要一种标准化的协议，使得每个 AI 模型和每个外部资源只需要遵循一次标准即可实现互联互通。MCP 的目标正是将这种复杂性降低到 M + N 的水平，极大地简化了 AI 集成的过程。语言服务器协议 (Language Server Protocol, LSP) 在代码编辑器和编程语言的集成领域取得了巨大的成功，它通过标准化开发工具与编程语言之间的通信方式，极大地提升了开发效率和用户体验。MCP 正是希望在 AI 集成领域复制 LSP 的成功，通过提供一个通用的接口，让 AI 模型能够以统一的方式与各种外部资源进行交互。\nMCP 的工作原理：架构与核心组件 MCP 采用经典的客户端-服务器架构。其中，AI 应用程序（例如一个聊天机器人或一个智能助手）扮演 MCP 客户端（或称为主机）的角色，而提供数据、工具或提示的外部系统则扮演 MCP 服务器的角色。\n","keywords":[],"articleBody":"模型上下文协议 (MCP)：连接 AI 模型与世界的标准化桥梁 引言 随着人工智能技术的飞速发展，大型语言模型（LLMs）的能力日益强大，它们在理解和生成自然语言方面取得了显著的进步。然而，要让这些模型真正服务于现实世界的应用，仅仅依靠其预训练的知识是远远不够的。它们需要能够安全、高效地访问外部数据源、利用各种工具，并根据用户的具体需求进行定制化的交互。在这样的背景下，由 Anthropic 公司发起并开源的模型上下文协议 (Model Context Protocol, MCP) 应运而生。MCP 旨在为 AI 模型与外部世界建立一座标准化的桥梁，正如 USB-C 接口统一了各种电子设备的连接方式一样，MCP 有望革新 AI 模型的集成方式，极大地提升 AI 应用的灵活性、可扩展性和实用性。\nMxN 集成挑战与标准化需求 在 MCP 出现之前，将 M 个 AI 模型与 N 个不同的工具或数据源集成，往往需要构建 M x N 个定制化的集成方案。这种“MxN”问题导致了复杂性的爆炸式增长，不仅开发和维护成本高昂，而且难以实现不同 AI 模型和外部资源之间的互操作性。例如，一个企业可能同时使用来自不同供应商的多个 LLM，并且需要让它们能够访问企业内部的数据库、文件系统、以及各种外部 API。如果每种 LLM 都需要针对每种数据源和工具进行单独的适配，其工作量和复杂性可想而知。\n为了解决这一瓶颈，行业迫切需要一种标准化的协议，使得每个 AI 模型和每个外部资源只需要遵循一次标准即可实现互联互通。MCP 的目标正是将这种复杂性降低到 M + N 的水平，极大地简化了 AI 集成的过程。语言服务器协议 (Language Server Protocol, LSP) 在代码编辑器和编程语言的集成领域取得了巨大的成功，它通过标准化开发工具与编程语言之间的通信方式，极大地提升了开发效率和用户体验。MCP 正是希望在 AI 集成领域复制 LSP 的成功，通过提供一个通用的接口，让 AI 模型能够以统一的方式与各种外部资源进行交互。\nMCP 的工作原理：架构与核心组件 MCP 采用经典的客户端-服务器架构。其中，AI 应用程序（例如一个聊天机器人或一个智能助手）扮演 MCP 客户端（或称为主机）的角色，而提供数据、工具或提示的外部系统则扮演 MCP 服务器的角色。\nMCP 客户端 (Host): 负责管理与 MCP 服务器的连接和通信。当 AI 模型需要访问外部资源时，它会通过 MCP 客户端向相应的服务器发送请求。 MCP 服务器: 其核心功能是暴露资源（例如数据库中的数据）、工具（例如可以执行特定操作的函数）和提示（预定义的交互模板）。服务器接收到来自客户端的请求后，会进行相应的处理，并将结果返回给客户端。 为了适应不同的应用场景，MCP 支持多种传输机制：\n标准输入/输出 (stdio): 主要用于本地通信，即客户端和服务器运行在同一台机器上。 服务器发送事件 (HTTP with Server-Sent Events, SSE) : 用于远程通信，允许客户端通过网络连接到位于不同机器上的 MCP 服务器。 客户端和服务器之间的消息交换采用 JSON-RPC 2.0 格式。这是一种轻量级的、基于 JSON 的远程过程调用协议，具有良好的可读性和易于解析的特点，非常适合用于不同系统之间的通信。\nMCP 的问题解决之道 MCP 通过以下关键方式有效地解决了 AI 集成领域的瓶颈问题：\n标准化通信: MCP 提供了一个统一的协议，使得 AI 客户端可以通过相同的接口查询和检索来自各种不同来源的数据，而无需关心底层数据源的具体实现细节。 安全和标准化的连接: MCP 提供了安全且标准化的连接方式，取代了过去可能存在的临时性的 API 连接器和自定义的包装器，提升了系统的稳定性和安全性。 可重用的连接器生态系统: MCP 促进了一个可重用的连接器（即 MCP 服务器）生态系统的发展。这些服务器可以被多个不同的 LLM 和客户端所使用，从而提高了开发效率和系统的可持续性。 连接 LLM 与真实、最新信息: 通过提供一个连接各种数据源的通用协议，MCP 有效地解决了 LLM 训练数据可能过时或不全面的问题，使得 AI 模型能够访问到最新的、实时的信息，从而提高其响应的相关性和准确性。 内置安全性: MCP 在设计中就考虑了安全性，包括访问控制、权限管理和审计跟踪等机制，这对于企业在将 AI 集成到涉及敏感数据的系统中至关重要。用户批准工具的使用也是 MCP 安全策略的重要组成部分。 SDK 优先: MCP 提供了多种编程语言（如 TypeScript、Python、Java、Kotlin、C#）的软件开发工具包 (SDK)，简化了开发者构建 MCP 服务器和客户端的过程，降低了开发门槛，有助于构建繁荣的 MCP 生态系统。 采用 MCP 的好处 采用 MCP 可以为开发者和 AI 应用带来诸多好处：\n简化开发过程: 标准化的集成方式大大简化了开发过程，开发者可以专注于核心的业务逻辑，而无需花费大量精力处理复杂的集成细节。 增强互操作性: 由于采用了通用的通信语言，不同 AI 模型和外部工具之间的互操作性得到了显著提升，可以更容易地组合和协调不同的 AI 能力。 提高上下文感知能力: 通过无缝访问各种信息来源，AI 应用可以获得更全面的上下文信息，从而做出更智能、更相关的决策。 支持双向通信: MCP 不仅允许 AI 模型接收信息，还可以触发外部系统中的操作，例如发送邮件、更新数据库等，从而实现更复杂的自动化工作流程。 长期可维护性和降低集成成本: 标准化的协议使得系统的维护更加容易，并且由于减少了重复开发的工作量，长期来看可以降低集成成本。 灵活性: MCP 提供了在不同 AI 模型和供应商之间进行切换的灵活性，降低了对单一供应商的依赖。 提高 AI 效率: 通过确保通信和决策的连续性，并提供对实时数据的访问，MCP 可以提高 AI 的效率，减少不准确性和“幻觉”的产生。跨交互维护上下文的能力也有助于实现更连贯和高效的 AI 行为。 当前局限性与改进方向 尽管 MCP 具有巨大的潜力，但目前仍处于早期采用阶段，也存在一些局限性：\n生态系统尚不完善: 行业支持、完善的文档和活跃的社区仍在发展中。 潜在的安全风险: 通过单一协议集中访问多个工具和数据源可能带来潜在的安全风险，需要进一步加强安全机制。 模型能力依赖: MCP 的有效性依赖于 AI 模型本身的能力，并非所有模型都能充分利用其所有功能。 可扩展性和性能问题: 在管理大量并发连接时，可能会出现可扩展性和性能方面的问题。 集成复杂性: 从传统的自定义 API 集成过渡到 MCP 可能存在一定的集成复杂性。 自定义选项有限: 由于 MCP 的标准化特性，可能在某些特定场景下自定义选项较为有限。 本地连接依赖: 目前某些实现仅支持本地连接，限制了其在分布式系统和云服务中的应用。 用户体验待提升: 在某些客户端中，MCP 服务器的设置过程较为繁琐，并且可能需要频繁授权。 功能支持不完整: 并非所有 MCP 客户端都完全支持所有功能。 为了克服这些局限性，MCP 的未来发展方向包括：\n改进远程连接: 允许客户端通过互联网安全地连接到 MCP 服务器，这是扩大 MCP 应用范围的关键一步。 标准化身份验证和授权: 增加标准化的身份验证和授权功能，特别是支持 OAuth 2.0，以确保远程连接的安全性。 定义远程服务器发现机制: 明确客户端如何发现和连接到远程 MCP 服务器。 考虑无服务器环境: 研究 MCP 在无服务器环境中的应用，使其能够更好地适应现代云原生架构。 标准化服务器打包和安装: 研究 MCP 服务器的标准化打包格式和跨客户端的简化安装工具。 增强安全性: 通过服务器隔离等技术进一步提升安全性。 构建通用服务器目录: 创建一个用于发现可用 MCP 服务器的通用目录。 支持更复杂的代理工作流程: 扩展 MCP 的功能，支持分层代理系统、更好的用户权限管理和实时结果更新。 促进社区主导的标准开发: 鼓励更广泛的社区参与，共同推动 MCP 成为一个开放的标准。 扩展到多模态: 除了文本之外，考虑支持音频、视频等其他数据格式。 推动标准化机构认可: 寻求通过标准化机构对 MCP 进行标准化，以提高其行业影响力。 展望未来，随着 MCP 的不断发展和完善，越来越多的组织可能会将其 API 发布为符合 MCP 标准的文档和连接器。这不仅可以作为现有 REST 或 GraphQL 端点的补充，甚至可以实现自动生成 LLM 可以直接使用的 MCP 服务器，进一步推动 AI 集成的便利性和效率。\nMCP 的实际应用 目前已经存在一些基于 MCP 构建的服务器和应用，涵盖了各种领域：\n常用工具集成: 例如文件系统、GitHub、Google Drive、Slack、数据库（PostgreSQL、SQLite）、网络搜索（Brave Search）和浏览器自动化（Puppeteer）等。 开发工具增强: 例如集成在 Blender（用于 3D 建模）、Zed 和 Cursor 等 IDE 中，以增强编码辅助功能。 企业级 AI 平台集成: 例如 Microsoft Copilot Studio 和 Azure AI Foundry 等平台已经集成了 MCP。 潜在的用例包括：\n智能助手: 实现更智能的旅行计划、日程管理等功能。 代码编辑: 提供更精准的代码建议、自动补全和重构功能。 复杂数据分析: 帮助用户利用 AI 模型分析和理解各种数据。 AI 驱动的研究: 加速科学研究过程，例如文献检索和信息抽取。 企业知识管理: 构建智能的知识库，方便员工查找和利用企业内部信息。 DevOps: 自动化部署、监控等开发运维任务。 实时数据检索: 使 AI 模型能够访问和利用最新的实时数据。 MCP 与其他 AI 集成技术的比较 将 MCP 与其他常见的 AI 集成技术进行比较，可以更好地理解其特点和优势：\n传统 API: 传统的 API 连接通常是为特定的工具或数据源定制的，缺乏统一的标准。相比之下，MCP 提供了一个标准化的接口，减少了自定义集成的工作量，并具有更强的动态性和灵活性。 函数调用: 函数调用通常是 LLM 提供商特定的功能，用于将自然语言指令转化为对外部函数的调用。MCP 可以看作是对函数调用的补充，它标准化了这些操作的执行方式，并提供了一个与供应商无关的解决方案。 LangChain 工具: LangChain 等框架也提供了各种工具用于 AI 集成。MCP 的一个重要区别在于，它旨在将工具带给开发者可能无法完全控制的 AI 代理，从而可能使非开发人员也能更方便地使用 AI 的能力。而 LangChain 工具更侧重于为开发者提供构建复杂 AI 应用的工具和抽象。 总而言之，与传统的 API 和特定于供应商的函数调用相比，MCP 提供了一种与供应商无关的标准化方法，使得不同的 AI 模型可以与同一组工具和数据源进行交互，从而促进了跨 AI 生态系统的互操作性。MCP 可以被视为 AI 集成的中间件，它在 AI 模型和各种后端系统之间提供了一个标准化的层，简化了连接并增强了可扩展性。\n结论 模型上下文协议 (MCP) 的出现标志着人工智能集成领域的一个重要里程碑。通过提供一个标准化的开放协议，MCP 有望从根本上改变 AI 模型与外部世界连接的方式，解决长期以来困扰行业的复杂性和碎片化问题。它不仅简化了开发流程，增强了互操作性，提高了上下文感知能力，还为构建更强大、更灵活的人工智能应用程序奠定了坚实的基础。尽管 MCP 目前仍处于早期阶段，但其巨大的潜力以及主要行业参与者的积极支持预示着其光明的未来。随着 MCP 生态系统的不断成熟和完善，我们有理由相信，它将在推动人工智能技术的更广泛应用和创新方面发挥至关重要的作用。通过采纳 MCP 这样的标准化协议，开发者可以更加专注于构建核心的应用逻辑，而不是将宝贵的时间和精力浪费在管理复杂的自定义集成上，最终加速人工智能驱动的解决方案的开发和部署，开启 AI 应用的新时代。\n欢迎关注点赞转发\n","wordCount":"409","inLanguage":"zh","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://bsong2015.github.io/blog/posts/artificial-intelligence/04-%E6%A8%A1%E5%9E%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%8D%8F%E8%AE%AE-mcp%E8%BF%9E%E6%8E%A5-ai-%E6%A8%A1%E5%9E%8B%E4%B8%8E%E4%B8%96%E7%95%8C%E7%9A%84%E6%A0%87%E5%87%86%E5%8C%96%E6%A1%A5%E6%A2%81/"},"publisher":{"@type":"Organization","name":"万年水的博客","logo":{"@type":"ImageObject","url":"https://bsong2015.github.io/blog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bsong2015.github.io/blog/ accesskey=h title="万年水的博客 (Alt + H)">万年水的博客</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bsong2015.github.io/blog/posts/artificial-intelligence/ title=人工智能><span>人工智能</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/reading/ title=阅读><span>阅读</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/thinking-models/ title=思维模型><span>思维模型</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/thought-experiments/ title=思想实验><span>思想实验</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/personal-growth/ title=个人成长><span>个人成长</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/technology/ title=技术><span>技术</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/current-affairs/ title=时事><span>时事</span></a></li><li><a href=https://bsong2015.github.io/blog/posts/others/ title=其它><span>其它</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent"></h1><div class=post-meta></div></header><div class=post-content><h2 id=模型上下文协议-mcp连接-ai-模型与世界的标准化桥梁>模型上下文协议 (MCP)：连接 AI 模型与世界的标准化桥梁<a hidden class=anchor aria-hidden=true href=#模型上下文协议-mcp连接-ai-模型与世界的标准化桥梁>#</a></h2><h3 id=引言><strong>引言</strong><a hidden class=anchor aria-hidden=true href=#引言>#</a></h3><p>随着人工智能技术的飞速发展，大型语言模型（LLMs）的能力日益强大，它们在理解和生成自然语言方面取得了显著的进步。然而，要让这些模型真正服务于现实世界的应用，仅仅依靠其预训练的知识是远远不够的。它们需要能够安全、高效地访问外部数据源、利用各种工具，并根据用户的具体需求进行定制化的交互。在这样的背景下，由 Anthropic 公司发起并开源的模型上下文协议 (Model Context Protocol, MCP) 应运而生。MCP 旨在为 AI 模型与外部世界建立一座标准化的桥梁，正如 USB-C 接口统一了各种电子设备的连接方式一样，MCP 有望革新 AI 模型的集成方式，极大地提升 AI 应用的灵活性、可扩展性和实用性。</p><h3 id=mxn-集成挑战与标准化需求><strong>MxN 集成挑战与标准化需求</strong><a hidden class=anchor aria-hidden=true href=#mxn-集成挑战与标准化需求>#</a></h3><p>在 MCP 出现之前，将 M 个 AI 模型与 N 个不同的工具或数据源集成，往往需要构建 M x N 个定制化的集成方案。这种“MxN”问题导致了复杂性的爆炸式增长，不仅开发和维护成本高昂，而且难以实现不同 AI 模型和外部资源之间的互操作性。例如，一个企业可能同时使用来自不同供应商的多个 LLM，并且需要让它们能够访问企业内部的数据库、文件系统、以及各种外部 API。如果每种 LLM 都需要针对每种数据源和工具进行单独的适配，其工作量和复杂性可想而知。</p><p>为了解决这一瓶颈，行业迫切需要一种标准化的协议，使得每个 AI 模型和每个外部资源只需要遵循一次标准即可实现互联互通。MCP 的目标正是将这种复杂性降低到 M + N 的水平，极大地简化了 AI 集成的过程。语言服务器协议 (Language Server Protocol, LSP) 在代码编辑器和编程语言的集成领域取得了巨大的成功，它通过标准化开发工具与编程语言之间的通信方式，极大地提升了开发效率和用户体验。MCP 正是希望在 AI 集成领域复制 LSP 的成功，通过提供一个通用的接口，让 AI 模型能够以统一的方式与各种外部资源进行交互。</p><h3 id=mcp-的工作原理架构与核心组件><strong>MCP 的工作原理：架构与核心组件</strong><a hidden class=anchor aria-hidden=true href=#mcp-的工作原理架构与核心组件>#</a></h3><p>MCP 采用经典的客户端-服务器架构。其中，AI 应用程序（例如一个聊天机器人或一个智能助手）扮演 MCP 客户端（或称为主机）的角色，而提供数据、工具或提示的外部系统则扮演 MCP 服务器的角色。</p><ul><li><strong>MCP 客户端 (Host):</strong> 负责管理与 MCP 服务器的连接和通信。当 AI 模型需要访问外部资源时，它会通过 MCP 客户端向相应的服务器发送请求。</li><li><strong>MCP 服务器:</strong> 其核心功能是暴露资源（例如数据库中的数据）、工具（例如可以执行特定操作的函数）和提示（预定义的交互模板）。服务器接收到来自客户端的请求后，会进行相应的处理，并将结果返回给客户端。</li></ul><p>为了适应不同的应用场景，MCP 支持多种传输机制：</p><ul><li><strong>标准输入/输出 (stdio):</strong> 主要用于本地通信，即客户端和服务器运行在同一台机器上。</li><li><strong>服务器发送事件 (HTTP with Server-Sent Events, SSE) :</strong> 用于远程通信，允许客户端通过网络连接到位于不同机器上的 MCP 服务器。</li></ul><p>客户端和服务器之间的消息交换采用 <strong>JSON-RPC 2.0</strong> 格式。这是一种轻量级的、基于 JSON 的远程过程调用协议，具有良好的可读性和易于解析的特点，非常适合用于不同系统之间的通信。</p><h3 id=mcp-的问题解决之道><strong>MCP 的问题解决之道</strong><a hidden class=anchor aria-hidden=true href=#mcp-的问题解决之道>#</a></h3><p>MCP 通过以下关键方式有效地解决了 AI 集成领域的瓶颈问题：</p><ul><li><strong>标准化通信:</strong> MCP 提供了一个统一的协议，使得 AI 客户端可以通过相同的接口查询和检索来自各种不同来源的数据，而无需关心底层数据源的具体实现细节。</li><li><strong>安全和标准化的连接:</strong> MCP 提供了安全且标准化的连接方式，取代了过去可能存在的临时性的 API 连接器和自定义的包装器，提升了系统的稳定性和安全性。</li><li><strong>可重用的连接器生态系统:</strong> MCP 促进了一个可重用的连接器（即 MCP 服务器）生态系统的发展。这些服务器可以被多个不同的 LLM 和客户端所使用，从而提高了开发效率和系统的可持续性。</li><li><strong>连接 LLM 与真实、最新信息:</strong> 通过提供一个连接各种数据源的通用协议，MCP 有效地解决了 LLM 训练数据可能过时或不全面的问题，使得 AI 模型能够访问到最新的、实时的信息，从而提高其响应的相关性和准确性。</li><li><strong>内置安全性:</strong> MCP 在设计中就考虑了安全性，包括访问控制、权限管理和审计跟踪等机制，这对于企业在将 AI 集成到涉及敏感数据的系统中至关重要。用户批准工具的使用也是 MCP 安全策略的重要组成部分。</li><li><strong>SDK 优先:</strong> MCP 提供了多种编程语言（如 TypeScript、Python、Java、Kotlin、C#）的软件开发工具包 (SDK)，简化了开发者构建 MCP 服务器和客户端的过程，降低了开发门槛，有助于构建繁荣的 MCP 生态系统。</li></ul><h3 id=采用-mcp-的好处><strong>采用 MCP 的好处</strong><a hidden class=anchor aria-hidden=true href=#采用-mcp-的好处>#</a></h3><p>采用 MCP 可以为开发者和 AI 应用带来诸多好处：</p><ul><li><strong>简化开发过程:</strong> 标准化的集成方式大大简化了开发过程，开发者可以专注于核心的业务逻辑，而无需花费大量精力处理复杂的集成细节。</li><li><strong>增强互操作性:</strong> 由于采用了通用的通信语言，不同 AI 模型和外部工具之间的互操作性得到了显著提升，可以更容易地组合和协调不同的 AI 能力。</li><li><strong>提高上下文感知能力:</strong> 通过无缝访问各种信息来源，AI 应用可以获得更全面的上下文信息，从而做出更智能、更相关的决策。</li><li><strong>支持双向通信:</strong> MCP 不仅允许 AI 模型接收信息，还可以触发外部系统中的操作，例如发送邮件、更新数据库等，从而实现更复杂的自动化工作流程。</li><li><strong>长期可维护性和降低集成成本:</strong> 标准化的协议使得系统的维护更加容易，并且由于减少了重复开发的工作量，长期来看可以降低集成成本。</li><li><strong>灵活性:</strong> MCP 提供了在不同 AI 模型和供应商之间进行切换的灵活性，降低了对单一供应商的依赖。</li><li><strong>提高 AI 效率:</strong> 通过确保通信和决策的连续性，并提供对实时数据的访问，MCP 可以提高 AI 的效率，减少不准确性和“幻觉”的产生。跨交互维护上下文的能力也有助于实现更连贯和高效的 AI 行为。</li></ul><h3 id=当前局限性与改进方向><strong>当前局限性与改进方向</strong><a hidden class=anchor aria-hidden=true href=#当前局限性与改进方向>#</a></h3><p>尽管 MCP 具有巨大的潜力，但目前仍处于早期采用阶段，也存在一些局限性：</p><ul><li><strong>生态系统尚不完善:</strong> 行业支持、完善的文档和活跃的社区仍在发展中。</li><li><strong>潜在的安全风险:</strong> 通过单一协议集中访问多个工具和数据源可能带来潜在的安全风险，需要进一步加强安全机制。</li><li><strong>模型能力依赖:</strong> MCP 的有效性依赖于 AI 模型本身的能力，并非所有模型都能充分利用其所有功能。</li><li><strong>可扩展性和性能问题:</strong> 在管理大量并发连接时，可能会出现可扩展性和性能方面的问题。</li><li><strong>集成复杂性:</strong> 从传统的自定义 API 集成过渡到 MCP 可能存在一定的集成复杂性。</li><li><strong>自定义选项有限:</strong> 由于 MCP 的标准化特性，可能在某些特定场景下自定义选项较为有限。</li><li><strong>本地连接依赖:</strong> 目前某些实现仅支持本地连接，限制了其在分布式系统和云服务中的应用。</li><li><strong>用户体验待提升:</strong> 在某些客户端中，MCP 服务器的设置过程较为繁琐，并且可能需要频繁授权。</li><li><strong>功能支持不完整:</strong> 并非所有 MCP 客户端都完全支持所有功能。</li></ul><p>为了克服这些局限性，MCP 的未来发展方向包括：</p><ul><li><strong>改进远程连接:</strong> 允许客户端通过互联网安全地连接到 MCP 服务器，这是扩大 MCP 应用范围的关键一步。</li><li><strong>标准化身份验证和授权:</strong> 增加标准化的身份验证和授权功能，特别是支持 OAuth 2.0，以确保远程连接的安全性。</li><li><strong>定义远程服务器发现机制:</strong> 明确客户端如何发现和连接到远程 MCP 服务器。</li><li><strong>考虑无服务器环境:</strong> 研究 MCP 在无服务器环境中的应用，使其能够更好地适应现代云原生架构。</li><li><strong>标准化服务器打包和安装:</strong> 研究 MCP 服务器的标准化打包格式和跨客户端的简化安装工具。</li><li><strong>增强安全性:</strong> 通过服务器隔离等技术进一步提升安全性。</li><li><strong>构建通用服务器目录:</strong> 创建一个用于发现可用 MCP 服务器的通用目录。</li><li><strong>支持更复杂的代理工作流程:</strong> 扩展 MCP 的功能，支持分层代理系统、更好的用户权限管理和实时结果更新。</li><li><strong>促进社区主导的标准开发:</strong> 鼓励更广泛的社区参与，共同推动 MCP 成为一个开放的标准。</li><li><strong>扩展到多模态:</strong> 除了文本之外，考虑支持音频、视频等其他数据格式。</li><li><strong>推动标准化机构认可:</strong> 寻求通过标准化机构对 MCP 进行标准化，以提高其行业影响力。</li></ul><p>展望未来，随着 MCP 的不断发展和完善，越来越多的组织可能会将其 API 发布为符合 MCP 标准的文档和连接器。这不仅可以作为现有 REST 或 GraphQL 端点的补充，甚至可以实现自动生成 LLM 可以直接使用的 MCP 服务器，进一步推动 AI 集成的便利性和效率。</p><h3 id=mcp-的实际应用><strong>MCP 的实际应用</strong><a hidden class=anchor aria-hidden=true href=#mcp-的实际应用>#</a></h3><p>目前已经存在一些基于 MCP 构建的服务器和应用，涵盖了各种领域：</p><ul><li><strong>常用工具集成:</strong> 例如文件系统、GitHub、Google Drive、Slack、数据库（PostgreSQL、SQLite）、网络搜索（Brave Search）和浏览器自动化（Puppeteer）等。</li><li><strong>开发工具增强:</strong> 例如集成在 Blender（用于 3D 建模）、Zed 和 Cursor 等 IDE 中，以增强编码辅助功能。</li><li><strong>企业级 AI 平台集成:</strong> 例如 Microsoft Copilot Studio 和 Azure AI Foundry 等平台已经集成了 MCP。</li></ul><p>潜在的用例包括：</p><ul><li><strong>智能助手:</strong> 实现更智能的旅行计划、日程管理等功能。</li><li><strong>代码编辑:</strong> 提供更精准的代码建议、自动补全和重构功能。</li><li><strong>复杂数据分析:</strong> 帮助用户利用 AI 模型分析和理解各种数据。</li><li><strong>AI 驱动的研究:</strong> 加速科学研究过程，例如文献检索和信息抽取。</li><li><strong>企业知识管理:</strong> 构建智能的知识库，方便员工查找和利用企业内部信息。</li><li><strong>DevOps:</strong> 自动化部署、监控等开发运维任务。</li><li><strong>实时数据检索:</strong> 使 AI 模型能够访问和利用最新的实时数据。</li></ul><h3 id=mcp-与其他-ai-集成技术的比较><strong>MCP 与其他 AI 集成技术的比较</strong><a hidden class=anchor aria-hidden=true href=#mcp-与其他-ai-集成技术的比较>#</a></h3><p>将 MCP 与其他常见的 AI 集成技术进行比较，可以更好地理解其特点和优势：</p><ul><li><strong>传统 API:</strong> 传统的 API 连接通常是为特定的工具或数据源定制的，缺乏统一的标准。相比之下，MCP 提供了一个标准化的接口，减少了自定义集成的工作量，并具有更强的动态性和灵活性。</li><li><strong>函数调用:</strong> 函数调用通常是 LLM 提供商特定的功能，用于将自然语言指令转化为对外部函数的调用。MCP 可以看作是对函数调用的补充，它标准化了这些操作的执行方式，并提供了一个与供应商无关的解决方案。</li><li><strong>LangChain 工具:</strong> LangChain 等框架也提供了各种工具用于 AI 集成。MCP 的一个重要区别在于，它旨在将工具带给开发者可能无法完全控制的 AI 代理，从而可能使非开发人员也能更方便地使用 AI 的能力。而 LangChain 工具更侧重于为开发者提供构建复杂 AI 应用的工具和抽象。</li></ul><p>总而言之，与传统的 API 和特定于供应商的函数调用相比，MCP 提供了一种与供应商无关的标准化方法，使得不同的 AI 模型可以与同一组工具和数据源进行交互，从而促进了跨 AI 生态系统的互操作性。MCP 可以被视为 AI 集成的中间件，它在 AI 模型和各种后端系统之间提供了一个标准化的层，简化了连接并增强了可扩展性。</p><h3 id=结论><strong>结论</strong><a hidden class=anchor aria-hidden=true href=#结论>#</a></h3><p>模型上下文协议 (MCP) 的出现标志着人工智能集成领域的一个重要里程碑。通过提供一个标准化的开放协议，MCP 有望从根本上改变 AI 模型与外部世界连接的方式，解决长期以来困扰行业的复杂性和碎片化问题。它不仅简化了开发流程，增强了互操作性，提高了上下文感知能力，还为构建更强大、更灵活的人工智能应用程序奠定了坚实的基础。尽管 MCP 目前仍处于早期阶段，但其巨大的潜力以及主要行业参与者的积极支持预示着其光明的未来。随着 MCP 生态系统的不断成熟和完善，我们有理由相信，它将在推动人工智能技术的更广泛应用和创新方面发挥至关重要的作用。通过采纳 MCP 这样的标准化协议，开发者可以更加专注于构建核心的应用逻辑，而不是将宝贵的时间和精力浪费在管理复杂的自定义集成上，最终加速人工智能驱动的解决方案的开发和部署，开启 AI 应用的新时代。</p><h3></h3><p><strong>欢迎关注点赞转发</strong></p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://bsong2015.github.io/blog/>万年水的博客</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>